<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>SiwBooks - La tua comunità letteraria</title>
		<meta name="description" content="Scopri, recensisci e condividi i tuoi libri preferiti con SiwBooks">

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
			integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">

		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link
			href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;1,400&family=Inter:wght@300;400;500;600;700&display=swap"
			rel="stylesheet">
		<link rel="stylesheet" href="/css/style.css" />


	</head>

	<body>
		<header th:replace="~{fragments/header :: siteHeader}"></header>

		<section class="hero-section">
			<div class="container">
				<div class="row justify-content-center text-center">
					<div class="col-lg-8">
						<h1 class="display-3 fw-bold mb-4 font-serif">
							Scopri il tuo prossimo<br>
							<span class="text-warning">libro preferito</span>
						</h1>
						<p class="lead mb-5">
							Leggi recensioni, scopri nuovi autori e condividi le tue opinioni sui libri che ami
						</p>
						<div class="d-flex flex-column flex-md-row gap-3 justify-content-center">
							<a class="btn btn-light btn-lg px-4" href="/books">
								<i class="bi bi-search me-2"></i>Esplora i libri
							</a>
							<button class="btn btn-outline-light btn-lg px-4">
								<i class="bi bi-pen me-2"></i>Scrivi una recensione
							</button>
						</div>
					</div>
				</div>
			</div>
		</section>
		<section class="py-5">
			<div class="container">
				<div class="d-flex justify-content-between align-items-center mb-5">
					<div>
						<h2 class="section-title display-6 mb-2">Libri in evidenza</h2>
						<p class="text-muted">I libri più amati dalla community</p>
					</div>
					<a class="btn btn-outline-primary" href="/books">
						Vedi tutti <i class="bi bi-arrow-right ms-1"></i>
					</a>
				</div>

				<div class="row g-4">
					<div th:each="book : ${popularBooks}" class="col-lg-4">
						<div class="card card-custom h-100">
							<div class="row g-0 h-100">
								<div th:if="${book.coverImage}" class="col-4">
									<img th:src="@{'/book/' + ${book.id} + '/cover'}" class="book-cover w-100 h-100"
										alt="Cover libro" />
								</div>
								<div th:unless="${book.coverImage}" class="col-4"><img src="/images/noBookCover.png"
										class="book-cover w-100 h-100" alt="Cover libro" />
								</div>
								<div class="col-8">
									<div class="card-body h-100 d-flex flex-column">
										<h5 class="card-title fw-bold" th:text="${book.title}"></h5>
										<p class="mb-1">
											<small class="text-muted">Di </small>
											<span th:each="author, iterStat : ${book.authors}">
												<a th:href="@{'/author/' + ${author.id}}"
													th:text="${author.name + ' ' + author.surname + (!iterStat.last ? ',' : '')}">
												</a>
											</span>
										</p>
										<div class="mb-4">
											<span class="rating-stars">
												<th:block th:each="i : ${#numbers.sequence(1,5)}">
													<i th:if="${book.avgRating >= i}"
														class="bi bi-star-fill text-warning"></i>
													<i th:if="${book.avgRating >= i-0.5 and book.avgRating < i}"
														class="bi bi-star-half text-warning"></i>
													<i th:if="${book.avgRating < i-0.5}"
														class="bi bi-star text-warning"></i>
												</th:block>

											</span>
											<small class="text-muted ms-2">
												<strong th:text="${book.avgRating}"></strong>
												<p>
													(<span th:text="${book.reviews.size()}"></span> recensioni)</p>
											</small>
										</div>
										<p class="card-text small text-muted flex-grow-1">

										</p>
										<div class="d-flex gap-2 mt-auto">
											<a th:href="@{'/book/'+${book.id}}"
												class="btn btn-primary-custom btn-sm flex-grow-1">Dettagli</a>

										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
		<section class="py-5 bg-warm">
			<div class="container">
				<div class="d-flex justify-content-between align-items-center mb-5">
					<div>
						<h2 class="section-title display-6 mb-2">Autori popolari</h2>
						<p class="text-muted">Gli autori con più libri nel catalogo</p>
					</div>
					<button class="btn btn-outline-primary">
						Tutti gli autori <i class="bi bi-arrow-right ms-1"></i>
					</button>
				</div>

				<div class="row g-4">
					<div class="col-md-4">
						<div class="card card-custom text-center">
							<div class="card-body">
								<div class="author-avatar">
									<i class="bi bi-person"></i>
								</div>
								<h5 class="fw-bold mb-3">Elena Ferrante</h5>
								<div class="d-flex justify-content-center gap-4 mb-3">
									<small class="text-muted">
										<i class="bi bi-book me-1"></i>12 libri
									</small>
									<small class="text-muted">
										<i class="bi bi-people me-1"></i>45.678 follower
									</small>
								</div>
								<p class="text-muted small mb-4">
									Pseudonimo di una scrittrice italiana, autrice della celebre tetralogia L'amica
									geniale.
								</p>
								<button class="btn btn-outline-primary btn-sm w-100">
									Segui autore
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<section class="py-5">
			<div class="container">
				<div class="d-flex justify-content-between align-items-center mb-5">
					<div>
						<h2 class="section-title display-6 mb-2">Recensioni recenti</h2>
						<p class="text-muted">Le ultime opinioni dalla community</p>
					</div>
					<button class="btn btn-outline-primary">
						Tutte le recensioni <i class="bi bi-arrow-right ms-1"></i>
					</button>
				</div>

				<div class="row g-4">
					<div class="col-lg-6">
						<div class="review-card">
							<div class="d-flex align-items-start gap-3">
								<div class="user-avatar">
									MR
								</div>
								<div class="flex-grow-1">
									<div class="d-flex justify-content-between align-items-center mb-2">
										<h6 class="fw-bold mb-0">Marco R.</h6>
										<small class="text-muted">2 giorni fa</small>
									</div>
									<p class="text-accent small fw-medium mb-2">Il Nome della Rosa</p>
									<div class="star-rating mb-3">
										<i class="bi bi-star-fill"></i>
										<i class="bi bi-star-fill"></i>
										<i class="bi bi-star-fill"></i>
										<i class="bi bi-star-fill"></i>
										<i class="bi bi-star-fill"></i>
									</div>
									<p class="text-muted small mb-3">
										Un capolavoro assoluto! Eco riesce a combinare mistero, filosofia e storia
										in
										modo magistrale.
										La ricostruzione dell'abbazia medievale è incredibilmente dettagliata.
									</p>
									<div class="d-flex align-items-center text-muted small">
										<i class="bi bi-hand-thumbs-up me-1"></i>
										<span>23 mi piace</span>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="col-lg-6">
						<div class="review-card">
							<div class="d-flex align-items-start gap-3">
								<div class="user-avatar">
									GM
								</div>
								<div class="flex-grow-1">
									<div class="d-flex justify-content-between align-items-center mb-2">
										<h6 class="fw-bold mb-0">Giulia M.</h6>
										<small class="text-muted">1 settimana fa</small>
									</div>
									<p class="text-accent small fw-medium mb-2">Cent'anni di solitudine</p>
									<div class="star-rating mb-3">
										<i class="bi bi-star-fill"></i>
										<i class="bi bi-star-fill"></i>
										<i class="bi bi-star-fill"></i>
										<i class="bi bi-star-fill"></i>
										<i class="bi bi-star"></i>
									</div>
									<p class="text-muted small mb-3">
										Un viaggio magico attraverso le generazioni. Márquez crea un mondo
										fantastico
										eppure così reale.
										Alcune parti sono complesse ma ne vale la pena.
									</p>
									<div class="d-flex align-items-center text-muted small">
										<i class="bi bi-hand-thumbs-up me-1"></i>
										<span>15 mi piace</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- CTA Section -->
		<section class="py-5 bg-primary-custom text-white">
			<div class="container text-center">
				<div class="row justify-content-center">
					<div class="col-lg-8">
						<i class="bi bi-graph-up-arrow display-4 mb-4"></i>
						<h2 class="display-5 fw-bold mb-4 font-serif">Unisciti alla community</h2>
						<p class="lead mb-5">
							Condividi le tue letture, scopri nuovi libri e connettiti con altri appassionati di
							letteratura
						</p>
						<div class="d-flex flex-column flex-md-row gap-3 justify-content-center">
							<a class="btn btn-light btn-lg px-4" href="/register">
								Registrati ora
							</a>
							<button class="btn btn-outline-light btn-lg px-4">
								Scopri di più
							</button>
						</div>
					</div>
				</div>
			</div>
		</section>
		<footer th:replace="~{fragments/footer :: siteFooter}"></footer>


		<!-- Bootstrap JS -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
			crossorigin="anonymous"></script>
	</body>

</html>